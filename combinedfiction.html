<!DOCTYPE html>

<head>
    <title>New York Times Hardcover Fiction Bestsellers</title>

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gentium+Book+Basic&family=Open+Sans&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

<style>
  p {
    font-size: 20px;
  }
</style>
</head>

<body>
    <header>
        <h1>The New York Times Bestsellers</h1>
        <h2>Combined Print and E-Book Fiction</h2>
    </header>
    <main>
        <div id="pubInfo"></div>
        <div id="list"></div>
        

    </main>
    <footer>
        <a href="index.html">Home</a><br>
        
        <img src="https://developer.nytimes.com/files/poweredby_nytimes_200c.png" alt="Logo that reads Data Provided By the New York Times">
    </footer>
    <script>
var url = 'https://api.nytimes.com/svc/books/v3/lists/current/combined-print-and-e-book-fiction.json?api-key=DT9tiNTO3lwwxEtEnKkICKQfETZIWApG';

$.getJSON(url, function(data) {
  console.log(data);
  var info = data.results;
  var books = info.books;
  var pubDate=new Date(info.bestsellers_date);



pubInfo.innerHTML  = `

<br>

<br> ${pubDate.toUTCString()}
<br>
  `;
 
    var output = 0;

    for (var i = 0; i < books.length; i++) {
      list.innerHTML += `
     

 
    <div> <br><p>${books[i].rank}</p>
    <img class = "book-img" src="${books[i].book_image}" alt="Cover of ${books[i].title}">
     ${books[i].title} 
      <br>
      By: ${books[i].author}
      <br>
      Current Rank: ${books[i].rank}
      <br>
      Weeks On List: ${books[i].weeks_on_list}
      <br>
      Description: ${books[i].description}
     
      </div>
      <br>
      <br>
      `;
    }
});
    </script>
</body>

</html>